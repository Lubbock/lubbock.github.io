window.__require=function e(t,o,n){function i(s,c){if(!o[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var a="function"==typeof __require&&__require;if(!c&&a)return a(r,!0);if(h)return h(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var p=o[s]={exports:{}};t[s][0].call(p.exports,function(e){return i(t[s][1][e]||e)},p,p.exports,e,t,o,n)}return o[s].exports}for(var h="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({NewScript:[function(e,t,o){"use strict";cc._RF.push(t,"3b5e0QI2UpEx7qE+ZdTN2QH","NewScript"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],cheers:[function(e,t,o){"use strict";cc._RF.push(t,"ac312PvC9NPf60MKWDrhcvF","cheers"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.registerEvent()},registerEvent:function(){this.node.on("touchstart",this.onEventStart,this),this.node.on("touchmove",this.onEventMove,this),this.node.on("touchcancel",this.onEventCancel,this),this.node.on("touchend",this.onEventEnd,this)},onEventStart:function(e){var t=e.getLocation();console.log("start Event \n worldPoint=",t)},onEventMove:function(e){var t=e.getLocation();console.log("move Move \n worldPoint=",t)},onEventCancel:function(e){var t=e.getLocation();console.log("cancel Event \n worldPoint=",t)},onEventEnd:function(e){var t=e.getLocation();console.log("end Event \n worldPoint=",t)},start:function(){}}),cc._RF.pop()},{}],cheer:[function(e,t,o){"use strict";cc._RF.push(t,"d04fc6YhipHwK2OJUglFShy","cheer");cc.Class({extends:cc.Component,properties:{b_index:0,b_show:!0,game:null},setJumpAction:function(){var e=cc.moveBy(1,cc.v2(0,50)).easing(cc.easeCubicActionOut()),t=cc.moveBy(1,cc.v2(0,-50)).easing(cc.easeCubicActionIn());return cc.repeatForever(cc.sequence(e,t))},registerEvent:function(){this.node.on("touchmove",this.onEventMove,this)},hideCheer:function(){this.b_show=!1,this.node.opacity=100,this.node.scale=.7},showCheer:function(){this.b_show=!0,this.node.opacity=255,this.node.scale=1},onMouseDown:function(e){var t=e.getLocation();this.game.moveCheer(this.b_index,t),console.log("start Event \n worldPoint=",this.b_index)},onMouseUp:function(e){var t=e.getLocation();this.game.moveCheer(this.b_index,t),console.log("start Event \n worldPoint=",this.b_index)},onEventStart:function(e){e.getLocation();console.log("start Event \n worldPoint=",this.b_index)},onEventMove:function(e){var t=e.getLocation();this.game.moveCheer(this.b_index,t),console.log("move Move \n worldPoint=",t)},onEventCancel:function(e){var t=e.getLocation();this.game.checkCheer(this.b_index,t),console.log("cancel Event \n worldPoint=",t)},onEventEnd:function(e){var t=e.getLocation();this.game.displayActivate(this.b_index,t),console.log("end Event \n worldPoint=",t)},onLoad:function(){this.registerEvent()},start:function(){}});cc._RF.pop()},{}],game:[function(e,t,o){"use strict";cc._RF.push(t,"5ec3fW06iJMELfRcSKrCNW3","game"),cc.Class({extends:cc.Component,properties:{cheerPrefab:{default:null,type:cc.Prefab},ground:{default:null,type:cc.Node},reloadItem:{default:null,type:cc.Node},beforeItem:{default:null,type:cc.Node},jumpAudio:{default:null,type:cc.AudioClip},successFul:{default:null,type:cc.AudioClip}},onLoad:function(){this.groudY=this.ground.y+this.ground.height/2,this.spawnNewCheer(),this.firstStart=!0,this.roadMap=[],this.hideMap=[],this.roadMap.push([2,9]),this.hideMap.push([1,5]),this.roadMap.push([3,10]),this.hideMap.push([2,6]),this.roadMap.push([0,4,9,11]),this.hideMap.push([1,3,6,7]),this.roadMap.push([1,10]),this.hideMap.push([2,7]),this.roadMap.push([2,11]),this.hideMap.push([3,8]),this.roadMap.push([7,12]),this.hideMap.push([6,9]),this.roadMap.push([8,13]),this.hideMap.push([7,10]),this.roadMap.push([5,12]),this.hideMap.push([6,10]),this.roadMap.push([6,13]),this.hideMap.push([7,11]),this.roadMap.push([0,14,11,2]),this.hideMap.push([5,12,10,6]),this.roadMap.push([1,3]),this.hideMap.push([6,7]),this.roadMap.push([2,4,9,14]),this.hideMap.push([7,8,10,13]),this.roadMap.push([5,7]),this.hideMap.push([9,10]),this.roadMap.push([6,8]),this.hideMap.push([10,11]),this.roadMap.push([9,11]),this.hideMap.push([12,13])},spawnNewCheer:function(){this.cheers_x=[],this.cheers_y=[];for(var e=0,t=[],o=0;o<5;o++)for(var n=0;n<5-o;n++){var i=cc.instantiate(this.cheerPrefab);this.node.addChild(i),i.setPosition(cc.v2(70*n-150+35*o,60*o-200)),i.getComponent("cheer").game=this,i.getComponent("cheer").b_index=e++,this.cheers_x.push(70*n-150+35*o),this.cheers_y.push(60*o-200),t.push(!0)}this.cheerCaches=[],this.cheerCaches.push(t)},saveCheerCache:function(){var e=this.node.getChildren(),t=[];for(var o in e)t.push(e[o].getComponent("cheer").b_show);this.cheerCaches.push(t)},reloadCheer:function(){cc.director.loadScene("puzzle001")},playJumpSound:function(){cc.audioEngine.playEffect(this.jumpAudio,!1)},loadBeforeStep:function(){var e=this.cheerCaches.pop(),t=this.node.getChildren(),o=!0;for(var n in t){e[n]?t[n].getComponent("cheer").showCheer():t[n].getComponent("cheer").hideCheer(),o=o&&e[n]}o&&(this.firstStart=!0)},displayActivate:function(e,t){var o=t.x,n=t.y;console.log("\u5f00\u59cb\u6d88\u5931\u68cb\u5b50 x="+o+" y="+n);var i=this.roadMap[e],h=!1;for(var s in i){var c=this.cheers_x[i[s]],r=this.cheers_y[i[s]];if(c-o<70&&c-o>-70)if(r-n<80&&r-n>-80)if(!this.node.getChildren()[i[s]].getComponent("cheer").b_show)if(this.node.getChildren()[this.hideMap[e][s]].getComponent("cheer").b_show){this.saveCheerCache(),this.node.getChildren()[e].getComponent("cheer").hideCheer(),this.node.getChildren()[i[s]].getComponent("cheer").showCheer(),this.node.getChildren()[this.hideMap[e][s]].getComponent("cheer").hideCheer(),h=!0;break}}return h},moveCheer:function(e,t){t=this.node.convertToNodeSpaceAR(t);this.firstStart&&(this.saveCheerCache(),this.firstStart=!1,this.node.getChildren()[e].getComponent("cheer").hideCheer());this.displayActivate(e,t)},checkCheer:function(e,t){console.log(t.x),this.displayActivate(e,t)||this.node.getChildren()[e].setPosition(cc.v2(this.cheers_x[e],this.cheers_y[e]))},toLeaveGame:function(){cc.director.end()},start:function(){}}),cc._RF.pop()},{}]},{},["NewScript","cheers","cheer","game"]);